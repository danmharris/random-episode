{{ template "base" . }}

{{ define "content" }}
<form method="get">
    <input type="text" value="{{ with .Query }}{{ . }}{{ end }}" name="q">
    <input type="submit" value="Search">
</form>

{{ with .SearchResults }}
{{ range . }}
<form method="post" action="/shows">
    <input type="hidden" value="{{ .ID }}" name="id">
    {{ .Title }}
    <input type="submit" value="Add">
</form>
{{ end }}
{{ end }}

{{ with .Shows }}
<ul>
    {{ range . }}
    <li><a href="/shows/{{ .ID }}">{{ .Title }}</a></li>
    {{ end }}
</ul>
{{ end }}
{{ end }}
